@repo/shifts-service test: bun test v1.3.4 (5eb2145b)
@repo/shifts-service test: 
@repo/shifts-service test: tests/sprint_3_pagination.test.ts:
@repo/shifts-service test: 
@repo/shifts-service test: # Unhandled error between tests
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: error: Cannot find module '../src/controllers/history' from '/Users/av/Documents/pavn/packages/shifts/tests/sprint_3_pagination.test.ts'
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: 
@repo/shifts-service test: 
@repo/shifts-service test: tests/publish.test.ts:
@repo/shifts-service test: 
@repo/shifts-service test: # Unhandled error between tests
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: error: Cannot find module '../src/controllers/publish' from '/Users/av/Documents/pavn/packages/shifts/tests/publish.test.ts'
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: 
@repo/shifts-service test: 
@repo/shifts-service test: tests/calculations.test.ts:
@repo/shifts-service test: (pass) calculateShiftPay > calculates pay for exact hours [2.25ms]
@repo/shifts-service test: (pass) calculateShiftPay > calculates pay for partial hours (rounding up preference) [0.06ms]
@repo/shifts-service test: (pass) calculateShiftPay > handles partial cents correctly (ceil)
@repo/shifts-service test: (pass) calculateShiftPay > returns 0 for zero or negative time
@repo/shifts-service test: (pass) calculateShiftPay > returns 0 for zero rate [0.09ms]
@repo/shifts-service test: 
@repo/shifts-service test: tests/upcoming.test.ts:
@repo/shifts-service test: 
@repo/shifts-service test: # Unhandled error between tests
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: error: Cannot find module '../src/controllers/upcoming' from '/Users/av/Documents/pavn/packages/shifts/tests/upcoming.test.ts'
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: 
@repo/shifts-service test: 
@repo/shifts-service test: tests/middleware.test.ts:
@repo/shifts-service test: (pass) Middleware Verification > WH-113: Adds X-Request-ID header [8.14ms]
@repo/shifts-service test: 18 |         const app = new Hono();
@repo/shifts-service test: 19 |         app.use("*", requestId());
@repo/shifts-service test: 20 |         app.onError((err, c) => errorHandler(err, c)); // Fix type mismatch if needs cast?
@repo/shifts-service test: 21 | 
@repo/shifts-service test: 22 |         app.get("/error", () => {
@repo/shifts-service test: 23 |             throw new AppError("Test Error", "TEST_CODE", 400, { foo: "bar" });
@repo/shifts-service test:                        ^
@repo/shifts-service test: AppError: Test Error
@repo/shifts-service test:  statusCode: 400,
@repo/shifts-service test:     details: {
@repo/shifts-service test:   foo: "bar",
@repo/shifts-service test: },
@repo/shifts-service test:        code: "TEST_CODE"
@repo/shifts-service test: 
@repo/shifts-service test:       at <anonymous> (/Users/av/Documents/pavn/packages/shifts/tests/middleware.test.ts:23:19)
@repo/shifts-service test:       at dispatch (/Users/av/Documents/pavn/node_modules/.bun/hono@4.11.7/node_modules/hono/dist/compose.js:22:23)
@repo/shifts-service test:       at dispatch (/Users/av/Documents/pavn/node_modules/.bun/hono@4.11.7/node_modules/hono/dist/compose.js:6:32)
@repo/shifts-service test:       at <anonymous> (/Users/av/Documents/pavn/packages/observability/src/index.ts:74:11)
@repo/shifts-service test:       at <anonymous> (/Users/av/Documents/pavn/packages/observability/src/index.ts:69:39)
@repo/shifts-service test:       at dispatch (/Users/av/Documents/pavn/node_modules/.bun/hono@4.11.7/node_modules/hono/dist/compose.js:22:23)
@repo/shifts-service test:       at dispatch (/Users/av/Documents/pavn/node_modules/.bun/hono@4.11.7/node_modules/hono/dist/compose.js:6:32)
@repo/shifts-service test:       at <anonymous> (/Users/av/Documents/pavn/node_modules/.bun/hono@4.11.7/node_modules/hono/dist/hono-base.js:301:31)
@repo/shifts-service test:       at <anonymous> (/Users/av/Documents/pavn/node_modules/.bun/hono@4.11.7/node_modules/hono/dist/hono-base.js:299:13)
@repo/shifts-service test:       at <anonymous> (/Users/av/Documents/pavn/packages/shifts/tests/middleware.test.ts:26:31)
@repo/shifts-service test: 
@repo/shifts-service test: (pass) Middleware Verification > WH-112: Standardizes AppError response [3.58ms]
@repo/shifts-service test: 38 |         const app = new Hono();
@repo/shifts-service test: 39 |         app.use("*", requestId());
@repo/shifts-service test: 40 |         app.onError((err, c) => errorHandler(err, c));
@repo/shifts-service test: 41 | 
@repo/shifts-service test: 42 |         app.get("/panic", () => {
@repo/shifts-service test: 43 |             throw new Error("Something exploded");
@repo/shifts-service test:                            ^
@repo/shifts-service test: error: Something exploded
@repo/shifts-service test:       at <anonymous> (/Users/av/Documents/pavn/packages/shifts/tests/middleware.test.ts:43:23)
@repo/shifts-service test:       at dispatch (/Users/av/Documents/pavn/node_modules/.bun/hono@4.11.7/node_modules/hono/dist/compose.js:22:23)
@repo/shifts-service test:       at dispatch (/Users/av/Documents/pavn/node_modules/.bun/hono@4.11.7/node_modules/hono/dist/compose.js:6:32)
@repo/shifts-service test:       at <anonymous> (/Users/av/Documents/pavn/packages/observability/src/index.ts:74:11)
@repo/shifts-service test:       at <anonymous> (/Users/av/Documents/pavn/packages/observability/src/index.ts:69:39)
@repo/shifts-service test:       at dispatch (/Users/av/Documents/pavn/node_modules/.bun/hono@4.11.7/node_modules/hono/dist/compose.js:22:23)
@repo/shifts-service test:       at dispatch (/Users/av/Documents/pavn/node_modules/.bun/hono@4.11.7/node_modules/hono/dist/compose.js:6:32)
@repo/shifts-service test:       at <anonymous> (/Users/av/Documents/pavn/node_modules/.bun/hono@4.11.7/node_modules/hono/dist/hono-base.js:301:31)
@repo/shifts-service test:       at <anonymous> (/Users/av/Documents/pavn/node_modules/.bun/hono@4.11.7/node_modules/hono/dist/hono-base.js:299:13)
@repo/shifts-service test:       at <anonymous> (/Users/av/Documents/pavn/packages/shifts/tests/middleware.test.ts:46:31)
@repo/shifts-service test: 
@repo/shifts-service test: (pass) Middleware Verification > WH-112: Catch generic Error as 500 [0.24ms]
@repo/shifts-service test: 
@repo/shifts-service test: tests/history.test.ts:
@repo/shifts-service test: 
@repo/shifts-service test: # Unhandled error between tests
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: error: Cannot find module '../src/controllers/history' from '/Users/av/Documents/pavn/packages/shifts/tests/history.test.ts'
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: 
@repo/shifts-service test: 
@repo/shifts-service test: tests/sprint_3_ghost_shifts.test.ts:
@repo/shifts-service test: 
@repo/shifts-service test: # Unhandled error between tests
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: error: Cannot find module '../src/controllers/pending' from '/Users/av/Documents/pavn/packages/shifts/tests/sprint_3_ghost_shifts.test.ts'
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: 
@repo/shifts-service test: 
@repo/shifts-service test: tests/state-machine.test.ts:
@repo/shifts-service test: (pass) Shift State Machine > allows valid normal flow [0.35ms]
@repo/shifts-service test: (pass) Shift State Machine > allows cancellation from almost anywhere [0.03ms]
@repo/shifts-service test: 16 |     });
@repo/shifts-service test: 17 | 
@repo/shifts-service test: 18 |     it("prevents skipping steps", () => {
@repo/shifts-service test: 19 |         expect(() => validateShiftTransition('published', 'in-progress')).toThrow();
@repo/shifts-service test: 20 |         expect(() => validateShiftTransition('assigned', 'completed')).toThrow();
@repo/shifts-service test: 21 |         expect(() => validateShiftTransition('assigned', 'approved')).toThrow();
@repo/shifts-service test:                                                                            ^
@repo/shifts-service test: error: expect(received).toThrow()
@repo/shifts-service test: 
@repo/shifts-service test: Received function did not throw
@repo/shifts-service test: Received value: undefined
@repo/shifts-service test: 
@repo/shifts-service test:       at <anonymous> (/Users/av/Documents/pavn/packages/shifts/tests/state-machine.test.ts:21:71)
@repo/shifts-service test: (fail) Shift State Machine > prevents skipping steps [0.03ms]
@repo/shifts-service test: (pass) Shift State Machine > prevents back-flow
@repo/shifts-service test: 
@repo/shifts-service test: tests/sprint_3_timesheet_status.test.ts:
@repo/shifts-service test: 
@repo/shifts-service test: # Unhandled error between tests
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: error: Cannot find module '../src/controllers/get-timesheets' from '/Users/av/Documents/pavn/packages/shifts/tests/sprint_3_timesheet_status.test.ts'
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: 
@repo/shifts-service test: 
@repo/shifts-service test: tests/sprint_4_overlap.test.ts:
@repo/shifts-service test: 
@repo/shifts-service test: # Unhandled error between tests
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: error: Cannot find module '../src/controllers/publish' from '/Users/av/Documents/pavn/packages/shifts/tests/sprint_4_overlap.test.ts'
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: 
@repo/shifts-service test: 
@repo/shifts-service test: tests/sprint_3_crew_search.test.ts:
@repo/shifts-service test: 
@repo/shifts-service test: # Unhandled error between tests
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: error: Cannot find module '../src/controllers/get-crew' from '/Users/av/Documents/pavn/packages/shifts/tests/sprint_3_crew_search.test.ts'
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: 
@repo/shifts-service test: 
@repo/shifts-service test: tests/sprint_4_audit_no_show.test.ts:
@repo/shifts-service test: 
@repo/shifts-service test: # Unhandled error between tests
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: error: Cannot find module '../src/controllers/approve' from '/Users/av/Documents/pavn/packages/shifts/tests/sprint_4_audit_no_show.test.ts'
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: 
@repo/shifts-service test: 
@repo/shifts-service test: tests/pending.test.ts:
@repo/shifts-service test: 
@repo/shifts-service test: # Unhandled error between tests
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: error: Cannot find module '../src/controllers/pending' from '/Users/av/Documents/pavn/packages/shifts/tests/pending.test.ts'
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: 
@repo/shifts-service test: 
@repo/shifts-service test: tests/worker-shifts.test.ts:
@repo/shifts-service test: 
@repo/shifts-service test: # Unhandled error between tests
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: error: Cannot find module '../src/controllers/worker-shifts' from '/Users/av/Documents/pavn/packages/shifts/tests/worker-shifts.test.ts'
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: 
@repo/shifts-service test: 
@repo/shifts-service test: tests/sprint_2_features.test.ts:
@repo/shifts-service test: 
@repo/shifts-service test: # Unhandled error between tests
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: error: Cannot find module '../src/controllers/approve' from '/Users/av/Documents/pavn/packages/shifts/tests/sprint_2_features.test.ts'
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: 
@repo/shifts-service test: 
@repo/shifts-service test: tests/wh126_break_enforcement.test.ts:
@repo/shifts-service test: 
@repo/shifts-service test: # Unhandled error between tests
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: error: Cannot find module '../src/controllers/approve' from '/Users/av/Documents/pavn/packages/shifts/tests/wh126_break_enforcement.test.ts'
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: 
@repo/shifts-service test: 
@repo/shifts-service test: tests/approve-race.test.ts:
@repo/shifts-service test: 
@repo/shifts-service test: # Unhandled error between tests
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: error: Cannot find module '../src/controllers/approve' from '/Users/av/Documents/pavn/packages/shifts/tests/approve-race.test.ts'
@repo/shifts-service test: -------------------------------
@repo/shifts-service test: 
@repo/shifts-service test: 
@repo/shifts-service test: src/utils/recurrence.test.ts:
@repo/shifts-service test: (pass) expandRecurringDates > should return base dates if recurrence is disabled [0.35ms]
@repo/shifts-service test: (pass) expandRecurringDates > should expand weekly recurrence for fixed weeks [1.64ms]
@repo/shifts-service test: (pass) expandRecurringDates > should expand biweekly recurrence [0.12ms]
@repo/shifts-service test: (pass) expandRecurringDates > should respect end date [0.08ms]
@repo/shifts-service test: (pass) expandRecurringDates > should generate multiple days per week [0.11ms]
@repo/shifts-service test: 
@repo/shifts-service test:  16 pass
@repo/shifts-service test:  15 fail
@repo/shifts-service test:  14 errors
@repo/shifts-service test:  34 expect() calls
@repo/shifts-service test: Ran 31 tests across 18 files. [234.00ms]
@repo/shifts-service test: Exited with code 1
